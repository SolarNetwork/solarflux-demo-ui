<!DOCTYPE html>
<html class="standalone">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=640" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <title>SolarFlux: Demo</title>
  </head>

  <body>
    <header class="hboxrow">
      <h1>SolarFlux Demo</h1>
      <i
        class="fas fa-check-circle fa-2x auth result success hidden"
        title="Authorization successful"
      ></i>
      <i
        class="fas fa-times-circle fa-2x auth result error hidden"
        title="Authorization failed"
      ></i>
      <input
        type="text"
        class="auth"
        name="token"
        placeholder="Token"
        autocomplete="off"
        autocorrect="off"
        autocapitalize="off"
        spellcheck="false"
      />
      <input type="password" class="auth" name="secret" placeholder="Secret" />
      <button type="button" id="connect">Connect</button>
      <button type="button" class="destructive" id="end" disabled>End</button>
    </header>
    <main class="hboxrow">
      <section class="welcome">
        <h2>Ready</h2>
        <p>
          SolarFlux provides a way to access SolarNode data in real time. This demo application will
          connect to SolarFlux and show you any data that the nodes associted with your security
          token allow.
        </p>

        <p class="hide-after-auth strong">
          Start by authorizing yourself with a SolarNetwork security token in the login form at the
          top right of this window. Narrow the topics to subscribe to in the form below before you
          connect, if desired.
        </p>

        <form id="topic-form">
          <label for="topics">Topics</label>
          <input id="topics" name="topics" type="text" value="node/+/datum/0/#" />
          <span class="caption"></span>
          <p class="alert hide-after-auth">
            <b>Heads up!</b> You can only subscribe to the node ID(s) and source ID(s) allowed by
            the security policy attached to the token you authenticate with.
          </p>
        </form>

        <p>
          Note that only data from SolarNodes that have the SolarFlux Upload plugin active will
          appear.
        </p>
      </section>
      <section class="output disabled">
        <header class="hboxrow">
          <h2>Go!</h2>
          <button type="button" id="clear" class="once-enabled">Clear</button>
        </header>
        <p class="once-enabled">
          You're off to the races, congratulations. Any messages posted to SolarFlux for your
          security token will appear here.
        </p>
        <div id="message-template" class="message template">
          <span class="topic" data-tprop="topic"></span><span class="body" data-tprop="body"></span>
        </div>
        <div id="messages" class="container"></div>
      </section>
    </main>
    <footer>
      <p>Powered by <a href="https://solarnetwork.github.io/">SolarNetwork</a>.</p>
    </footer>
  </body>
</html>
